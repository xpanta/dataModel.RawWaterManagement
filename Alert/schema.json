{
  "$schema": "http://json-schema.org/schema#",
  "$schemaVersion": "0.0",
  "$id": "",
  "title": "Alert data model JSON Schema",
  "description": "An alert generated by a device in a given location",
  "allOf": [
    {
      "$ref": "https://smart-data-models.github.io/data-models/common-schema.json#/definitions/GSMA-Commons"
    },
    {
      "$ref": "https://smart-data-models.github.io/data-models/common-schema.json#/definitions/Location-Commons"
    },
    {
      "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": ["Alert"],
            "description": "NGSI Entity type"
          },
          "level":{
            "type": "string",
            "enum": ["Yellow_Alert", "Red_Alert"]
          },
          "refDevice": {
            "$ref": "../Device/schema.json"
          },
          "controlledProperty":{
            "type": "string",
            "enum": [
              "temperature",
              "humidity",
              "power",
              "pressure",
              "water_depth",
              "pH",
              "conductivity",
              "conductance",
              "turbidity",
              "salinity",
              "flow_rate"
            ],
            "oneOf":[
              {"upper_limit":{"type": "number"}},
              {"lower_limit":{"type": "number"}},
            ]
          }
        }
      }
  ],
}
